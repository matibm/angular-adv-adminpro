<div class="card">
    <div *ngIf="factura" class="card-body">
        <h4><b>Servicio:</b> {{factura.contrato.nombre_servicio}}</h4>
        <div class="row">
            <div class="col-xs col-md">
                <div class="card bg-light">
                    <div class="card-body">
                        <div align="center">
                            <ngx-avatar [size]="70" name="{{[factura.titular.NOMBRES, factura.titular.APELLIDOS ] | nombreCorto }}">
                            </ngx-avatar>

                        </div>
                        <h4 class="card-title"><b>Titular:</b></h4>

                        <h4>
                            {{factura.titular.NOMBRES}} {{factura.titular.APELLIDOS}}
                            <br>
                            <small>{{factura.titular.RUC}}</small>

                        </h4>
                    </div>
                </div>
            </div>

            <div class="col-xs col-md">
                <div class="card bg-light">
                    <div class="card-body">
                        <div align="center">
                            <ngx-avatar [size]="70" name="{{[factura.contrato.vendedor.NOMBRES, factura.contrato.vendedor.APELLIDOS ] | nombreCorto }}">
                            </ngx-avatar>

                        </div>
                        <h4 class="card-title"><b>vendedor:</b></h4>

                        <h4>
                            {{factura.contrato.vendedor.NOMBRES}} {{factura.contrato.vendedor.APELLIDOS}}
                            <br>
                            <small>{{factura.contrato.vendedor.RUC}}</small>

                        </h4>
                    </div>
                </div>
            </div>

            <div class="col-xs col-md">
                <div class="card bg-light">
                    <div class="card-body">
                        <div align="center">
                            <ngx-avatar [size]="70" name="{{[factura.contrato.cobrador.NOMBRES, factura.contrato.cobrador.APELLIDOS ] | nombreCorto }}">
                            </ngx-avatar>

                        </div>
                        <h4 class="card-title"><b>Cobrador:</b></h4>

                        <h4>
                            {{factura.contrato.cobrador.NOMBRES}} {{factura.contrato.cobrador.APELLIDOS}}
                            <br>
                            <small>{{factura.contrato.cobrador.RUC}}</small>

                        </h4>
                    </div>
                </div>
            </div>

        </div>

        <h4><b>Fecha de emision:</b> {{factura.fecha_creacion_unix | date:' d, MMM y - h:mm a'}}</h4>
        <h4><b>Fecha de Vencimientio:</b> {{factura.vencimiento | date:' d, MMM y'}}</h4>
        <h4 *ngIf="factura.pagado"><b>Fecha de pago:</b> {{factura.fecha_pagado_unix | date:' d, MMM y - h:mm a'}}</h4>
        <h4><b>Monto:</b> {{factura.haber | currency: '':'':'2.0'}} Gs</h4>

        <div class="inline-flex">
            <h4 class="mr-3"><b>Fondo:</b></h4>
            <div class="" *ngIf="!fondo">
                <ng-select [ngStyle]="{minWidth: '300px'}" [items]="fondos" [(ngModel)]="fondo" (search)="searchBancos($event)" notFoundText="no se encontraron resultados" placeholder="buscar origen fondo" bindLabel="NOMBRES" [searchFn]="customSearchFn">
                    <ng-template ng-option-tmp let-item="item">
                        <div>
                            <div *ngIf="item.NOMBRES">{{item.NOMBRES}} {{item.APELLIDOS}}</div>
                            <div *ngIf="item.NOMBRES && item.RAZON"> - </div>
                            <div *ngIf="item.RAZON">{{item.RAZON}} </div>


                            <small>{{item.RUC}}</small>
                        </div>

                    </ng-template>
                </ng-select>
            </div>

            <div class="" *ngIf="fondo">
                <h4>
                    <div *ngIf="fondo.NOMBRES">{{fondo.NOMBRES}} {{fondo.APELLIDOS}}</div>
                    <div *ngIf="fondo.NOMBRES && fondo.RAZON"> - </div>
                    <div *ngIf="fondo.RAZON">{{fondo.RAZON}} </div>

                    <small>{{fondo.RUC}}</small>
                </h4>
            </div>

        </div>

        <div class="float-right mt-3">
            <button *ngIf="!factura.pagado" (click)="pagar()" type="button" class="btn  btn-primary">Pagar</button>

        </div>


    </div>

</div>